<div ng-controller="BookingsCtrl">
  <h2>Bookings</h2>

  <table class="table">
    <thead>
      <tr>
        <th>Time</th>
        <th>Location</th>
        <th>Status</th>
        <th>Courts</th>
        <th>Players</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="booking in bookings | orderBy:date">
        <td>{{booking.time}}</td>
        <td>{{booking.location}}</td>
        <td>{{booking.status}}</td>
        <td>{{booking.courts}}</td>
        <td><span ng-repeat="id in booking.players">{{playerName(id)}}</span></td>
        <td>
          <a ng-show="showJoin(booking)" ng-click="join(booking)" class="glyphicon glyphicon-plus"></a>
          <a ng-show="!showJoin(booking)" ng-click="leave(booking)" class="glyphicon glyphicon-minus"></a>
          <a ng-click="close(booking)" class="glyphicon glyphicon-ok"></a>
          <a ng-click="edit(booking)" class="glyphicon glyphicon-pencil"></a>
        </td>
      </tr>
    </tbody>
  </table>

  <form class="form-inline" role="form" ng-submit="create()">
    <div class="form-group">
      <input class="form-control" id="time" ng-model="new.time" placeholder="When" />
    </div>
    <div class="form-group">
      <input class="form-control" id="location" ng-model="new.location" placeholder="Where" />
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-default">Create</button>
    </div>
  </form>
</div>
